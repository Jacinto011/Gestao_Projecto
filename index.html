<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador de Projetos e Tarefas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">Gerenciador de Projetos</div>
            <div class="auth-section" id="authSection">
                <input type="text" id="userIdInput" class="form-control" placeholder="ID do Colaborador">
                <button class="btn btn-outline" id="loginBtn">Entrar</button>
            </div>
        </div>
    </header>

    <div class="container main-content">
        <!-- Tela de Login -->
        <div id="loginScreen" class="card">
            <h2>Bem-vindo ao Gerenciador de Projetos</h2>
            <p>Por favor, insira seu ID de colaborador para acessar o sistema.</p>
        </div>

        <!-- Tela Principal (após login) -->
        <div id="mainScreen" style="display: none;">
            <div class="flex items-center gap-2 mb-3">
                <div class="user-avatar" id="userAvatar">A</div>
                <div>
                    <div id="userName">Administrador</div>
                    <div class="text-small text-muted" id="userId">ID: 1234</div>
                </div>
            </div>

            <div class="tabs">
                <div class="tab active" data-tab="projects">Projetos</div>
                <div class="tab" data-tab="tasks">Minhas Tarefas</div>
                <div class="tab" data-tab="team">Equipe</div>
            </div>

            <div class="tab-content active" id="projectsTab">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Todos os Projetos</div>
                        <button class="btn btn-primary" id="addProjectBtn">Adicionar Projeto</button>
                    </div>
                    <div id="alertsContainer"></div>
                    <table class="table" id="projectsTable">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Descrição</th>
                                <th>Data Início</th>
                                <th>Data Término</th>
                                <th>Tarefas</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="projectsTableBody">
                            <!-- Projetos serão carregados aqui -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-content" id="tasksTab">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Minhas Tarefas</div>
                    </div>
                    <table class="table" id="tasksTable">
                        <thead>
                            <tr>
                                <th>Projeto</th>
                                <th>Tarefa</th>
                                <th>Descrição</th>
                                <th>Prazo</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tasksTableBody">
                            <!-- Tarefas do usuário serão carregadas aqui -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="tab-content" id="teamTab">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Membros da Equipe</div>
                        <button class="btn btn-primary" id="addMemberBtn">Adicionar Membro</button>
                    </div>
                    <table class="table" id="teamTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>Tarefas Atribuídas</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="teamTableBody">
                            <!-- Membros da equipe serão carregados aqui -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modais -->
    <div class="modal" id="projectModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="projectModalTitle">Adicionar Novo Projeto</div>
                <span class="close">&times;</span>
            </div>
            <form id="projectForm">
                <input type="hidden" id="projectId">
                <div class="form-group">
                    <label for="projectName" class="form-label">Nome do Projeto</label>
                    <input type="text" class="form-control" id="projectName" required>
                </div>
                <div class="form-group">
                    <label for="projectDescription" class="form-label">Descrição</label>
                    <textarea class="form-control" id="projectDescription" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="projectStartDate" class="form-label">Data de Início</label>
                    <input type="date" class="form-control" id="projectStartDate" required>
                </div>
                <div class="form-group">
                    <label for="projectEndDate" class="form-label">Data de Término</label>
                    <input type="date" class="form-control" id="projectEndDate" required>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
            </form>
        </div>
    </div>

    <div class="modal" id="taskModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="taskModalTitle">Adicionar Nova Tarefa</div>
                <span class="close">&times;</span>
            </div>
            <form id="taskForm">
                <input type="hidden" id="taskId">
                <input type="hidden" id="taskProjectId">
                <div class="form-group">
                    <label for="taskName" class="form-label">Nome da Tarefa</label>
                    <input type="text" class="form-control" id="taskName" required>
                </div>
                <div class="form-group">
                    <label for="taskDescription" class="form-label">Descrição</label>
                    <textarea class="form-control" id="taskDescription" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="taskStartDate" class="form-label">Data de Início</label>
                    <input type="date" class="form-control" id="taskStartDate" required>
                </div>
                <div class="form-group">
                    <label for="taskEndDate" class="form-label">Data de Término</label>
                    <input type="date" class="form-control" id="taskEndDate" required>
                </div>
                <div class="form-group">
                    <label for="taskAssignee" class="form-label">Responsável</label>
                    <select class="form-control" id="taskAssignee" required>
                        <!-- Opções serão preenchidas via JS -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="taskStatus" class="form-label">Status</label>
                    <select class="form-control" id="taskStatus" required>
                        <option value="pending">Pendente</option>
                        <option value="in_progress">Em Progresso</option>
                        <option value="completed">Concluído</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
            </form>
        </div>
    </div>

    <div class="modal" id="memberModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="memberModalTitle">Adicionar Novo Membro</div>
                <span class="close">&times;</span>
            </div>
            <form id="memberForm">
                <input type="hidden" id="memberId">
                <div class="form-group">
                    <label for="memberName" class="form-label">Nome Completo</label>
                    <input type="text" class="form-control" id="memberName" required>
                </div>
                <div class="form-group">
                    <label for="memberIdInput" class="form-label">ID</label>
                    <input type="text" class="form-control" id="memberIdInput" required>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
            </form>
        </div>
    </div>

    <div class="modal" id="projectDetailModal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <div class="modal-title" id="projectDetailTitle">Detalhes do Projeto</div>
                <span class="close">&times;</span>
            </div>
            <div class="mb-3">
                <h3 id="detailProjectName"></h3>
                <p id="detailProjectDescription"></p>
                <p><strong>Período:</strong> <span id="detailProjectPeriod"></span></p>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Tarefas do Projeto</div>
                    <button class="btn btn-primary" id="addTaskToProjectBtn">Adicionar Tarefa</button>
                </div>
                <table class="table" id="projectTasksTable">
                    <thead>
                        <tr>
                            <th>Tarefa</th>
                            <th>Descrição</th>
                            <th>Responsável</th>
                            <th>Prazo</th>
                            <th>Status</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="projectTasksTableBody">
                        <!-- Tarefas do projeto serão carregadas aqui -->
                    </tbody>
                </table>
            </div>
            
            <div class="card mt-3">
                <div class="card-header">
                    <div class="card-title">Diagrama de Gantt</div>
                </div>
                <div class="gantt-chart" id="ganttChart">
                    <!-- Diagrama de Gantt será renderizado aqui -->
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="confirmModal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <div class="modal-title" id="confirmModalTitle">Confirmar Ação</div>
                <span class="close">&times;</span>
            </div>
            <div class="mb-3">
                <p id="confirmModalMessage">Tem certeza que deseja excluir este item?</p>
            </div>
            <div style="display: flex; justify-content: flex-end; gap: 10px;">
                <button class="btn btn-outline" id="confirmCancelBtn">Cancelar</button>
                <button class="btn btn-danger" id="confirmActionBtn">Confirmar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>